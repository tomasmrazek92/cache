{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/graph.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "gsap.registerPlugin(ScrollTrigger, TextPlugin);\n\n// --- Functions\nfunction formatNumber(number) {\n  // Define or replace with appropriate formatting logic\n  return number.toLocaleString('en');\n}\nconst animateCounter = ($element, value) => {\n  $($element).each(function () {\n    const currentText = $(this).text().trim().replace(/,/g, ''); // Remove commas before parsing\n    const startValue = parseFloat(currentText) || 0; // Fallback to 0 if not a number\n    const targetValue = parseFloat(value);\n\n    if (!isNaN(targetValue) && startValue !== targetValue) {\n      const Cont = { val: startValue }; // Initialize with current value\n\n      const onUpdate = () => {\n        let formattedValue = formatNumber(Math.round(Cont.val));\n        $(this).text(formattedValue);\n      };\n\n      gsap.fromTo(\n        Cont,\n        { val: startValue },\n        {\n          val: targetValue,\n          duration: 1,\n          onUpdate: onUpdate,\n        }\n      );\n    }\n  });\n};\n\nfunction hideElement(element) {\n  if ($(element).css('visibility') !== 'hidden') {\n    $(element).css('visibility', 'hidden');\n  }\n}\n\nfunction showElement(element) {\n  if ($(element).css('visibility') !== 'visible') {\n    $(element).css('visibility', 'visible');\n  }\n}\n\n// Function to calculate actual start time of each part, excluding delays\nfunction getActualStartTime(label, delay) {\n  // Get the time of the label\n  let labelTime = main.labels[label];\n  // Calculate the actual start time by subtracting the delay\n  return labelTime + 1;\n}\n\n// Timeline\nfunction getActivePointCenterX(index) {\n  let activePoint = $('[data-drag=\"point\"]').eq(index);\n  let dragTimeline = $('[data-drag=\"timeline\"]'); // Adjust the selector as needed\n\n  // Active Class\n  $('[data-drag=\"point\"]').removeClass('active');\n  activePoint.addClass('active');\n\n  if (activePoint.length > 0 && dragTimeline.length > 0) {\n    let activePointCenterX = activePoint.offset().left;\n    let timelineX = dragTimeline.offset().left;\n\n    // Calculate relative position\n    return activePointCenterX - timelineX;\n  }\n  console.warn('Active dragPoint or dragTimeline not found.');\n  return 0; // Or handle this scenario as you see fit\n}\nconst animateToActivePoint = (index) => {\n  let fillWidth;\n  if (index === 0) {\n    fillWidth = 0;\n  } else if (index === 1) {\n    fillWidth = 50;\n  } else fillWidth = 100;\n  gsap.to(dragFill, { width: `${fillWidth}%`, duration: 0.75 });\n  gsap.to(dragBall, { x: getActivePointCenterX(index), duration: 0.75 });\n};\n\n// Elements\nlet graphSection = $('[graph-section]');\n\nlet value1 = $('[data-value=\"1\"]');\nlet value2 = $('[data-value=\"2\"]');\n\nlet barWrap = $('[data-bar=\"wrap\"]');\nlet bar1_1 = $('[data-bar=1-1]');\nlet bar1_2 = $('[data-bar=1-2]');\nlet bar2_1 = $('[data-bar=2-1]');\nlet bar2_2 = $('[data-bar=2-2]');\n\nlet gain1 = $('[data-gain=\"1\"]');\nlet gain2Text = $('[data-gain=\"text-2\"]');\nlet gain2Sign = $('[data-gain=sign-2]');\nlet gain2 = $('[data-gain=\"2\"]');\nlet invst1 = $('[data-investment=\"1\"]');\nlet invst2 = $('[data-investment=\"2\"]');\n\nlet dragTimeline = $('[data-drag=\"timeline\"]');\nlet dragBall = $('[data-drag=\"ball\"]');\nlet dragPoint = $('[data-drag=\"point\"]');\nlet dragFill = $('[data-drag=\"fill\"]');\n\nlet contentReveal = $('.exchange__difference-cta-wrap');\n\n// Values\nlet values = {\n  value1: [300000, 300000, 584615],\n  value2: [300000, 213125, 415320],\n  taxDrag: 86875,\n  gain1: 284615,\n  gain2: 202195,\n};\nlet greenHex = '#309157';\nlet orangeHex = '#e95c20';\n\n// Defaults\ngsap.defaults({ ease: Power3.easeInOut, duration: 1 });\n\n// Init Set\ngsap.set([bar1_1, bar2_1], { maxHeight: 0 });\ngsap.set(bar2_1, { background: orangeHex });\ngsap.set(contentReveal, { opacity: 0 });\n\n// Load 1\nconst part1 = () => {\n  let tl = gsap.timeline({});\n  tl.call(() => {\n    $('.exc_label-2').removeClass('is-active');\n    $('.exc_label-3').removeClass('is-active');\n  });\n  tl.fromTo(barWrap, { height: 0 }, { height: '13.3em' });\n  tl.call(animateToActivePoint, [0], '<');\n  tl.add(stats1(), '<');\n  return tl;\n};\nconst stats1 = () => {\n  let tl = gsap.timeline();\n  tl.call(animateCounter, [value1, values.value1[0]], '<');\n  tl.call(animateCounter, [value2, values.value2[0]], '<');\n  tl.call(animateCounter, [invst1, values.value1[0]], '<');\n  tl.call(animateCounter, [invst2, values.value2[0]], '<');\n  return tl;\n};\n\n// Load 2\nconst part2 = () => {\n  let tl = gsap.timeline({});\n  tl.call(() => {\n    $('.exc_label-2').addClass('is-active');\n    $('.exc_label-3').removeClass('is-active');\n  });\n  tl.to(bar2_1, { maxHeight: '4.5em' });\n  tl.set(gain2Text, { text: 'Tax Drag:' }, '<');\n  tl.set(gain2Sign, { text: '-$' }, '<');\n  tl.call(animateToActivePoint, [1], '<');\n  tl.add(stats2(), '<');\n  return tl;\n};\nconst stats2 = () => {\n  let tl = gsap.timeline();\n  tl.call(animateCounter, [value1, values.value1[1]]);\n  tl.call(animateCounter, [gain2, values.taxDrag], '<');\n  tl.call(animateCounter, [value2, values.value2[1]], '<');\n  tl.call(animateCounter, [invst2, values.value2[1]], '<');\n  return tl;\n};\n\n// Load 3\nconst part3 = () => {\n  let tl = gsap.timeline({});\n  tl.call(() => {\n    $('.exc_label-2').addClass('is-active');\n    $('.exc_label-3').addClass('is-active');\n  });\n  tl.to(barWrap.eq(0), { height: '97%' });\n  tl.to(barWrap.eq(1), { height: '18em' }, '<');\n  tl.to(bar1_1, { maxHeight: '12.5em' }, '<');\n  tl.to(bar2_1, { maxHeight: '9em', background: greenHex }, '<');\n  tl.set(gain2Text, { text: 'Capital Gain:' }, '<');\n  tl.set(gain2Sign, { text: '$' }, '<');\n  tl.call(animateToActivePoint, [2], '<');\n  tl.add(stats3(), '<');\n\n  return tl;\n};\nconst stats3 = () => {\n  let tl = gsap.timeline();\n  tl.call(animateCounter, [value1, values.value1[2]], '<');\n  tl.call(animateCounter, [value2, values.value2[2]], '<');\n  tl.call(animateCounter, [gain1, values.gain1], '<');\n  tl.call(animateCounter, [gain2, values.gain2], '<');\n  return tl;\n};\n\n// Main TL\nlet main = gsap.timeline({\n  scrollTrigger: {\n    trigger: $('[graph-section]'),\n    start: 'top center',\n  },\n});\n\nmain.addLabel('Part 1: Start');\nmain.add(part1());\nmain.addLabel('Part 1: End');\nmain.addLabel('Part 2: Start');\nmain.add(part2(), '+=1');\nmain.addLabel('Part 2: End');\nmain.addLabel('Part 3: Start');\nmain.add(part3(), '+=1');\nmain.addLabel('Part 3: End');\nmain.call(() => {\n  gsap.to(contentReveal, { opacity: 1 });\n});\n\n// Events\ndragPoint.on('click', function () {\n  main.pause();\n  let index = $(this).index();\n  let startTime, endTime;\n\n  if (index === 0) {\n    startTime = 'Part 1: Start';\n    endTime = 'Part 1: End';\n    stats1();\n  } else if (index === 1) {\n    startTime = getActualStartTime('Part 2: Start', 1);\n    endTime = 'Part 2: End';\n    stats2();\n  } else if (index === 2) {\n    startTime = getActualStartTime('Part 3: Start', 1);\n    endTime = 'Part 3: End';\n  }\n\n  main.seek(startTime);\n  main.tweenTo(endTime);\n  // Optionally play the stats animation for each part\n  // stats[index]().play();\n});\n\n// Restart\n$('[button-restart]').on('click', function () {\n  main.restart();\n  stats1();\n  animateToActivePoint(0);\n});\n\n$(window).on('resize', function () {\n  animateToActivePoint($(dragPoint.filter('.active')).index());\n});\n"],
  "mappings": "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",
  "names": ["dragTimeline"]
}
