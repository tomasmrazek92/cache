"use strict";(()=>{var u,s={},_=$(".current-slide"),f,x=$(".total-slide"),m,q=null,v=$(".questions_toc_list"),c=$(".questions_toc-item"),l=$(".questions_toc-dropdown-trigger"),I=$(".questions_block"),d=new Swiper(".questions_inner-slider",{slidesPerView:"auto",spaceBetween:0,navigation:{nextEl:".swiper-arrow.faq.next",prevEl:".swiper-arrow.faq.prev"},on:{beforeInit:t=>{T()},afterInit:t=>{p(t),g(),w(0,t)},slideChange:t=>{p(t),w(t.activeIndex)}}});function T(){$(".questions_inner").each(function(){let e=$(this).data("category");s[e]||(s[e]=[]),$(this).each(function(){s[e].push(this)})});let t=Object.keys(s).sort();for(let e=0;e<t.length-1;e++){let o=t[e],n=s[o][s[o].length-1];$(n).addClass("category-last")}}function p(t){let e=$(t.slides[t.activeIndex]);Object.keys(s).forEach((o,n)=>{$("[category-count]").eq(n).text(`(${$(s[n+1]).length})`);let i=s[o].indexOf(e[0])||0;if(i!==-1){g(parseInt(o)-1),q!==o?(f=i+1,q=o):f=i+1,m=s[o].length;let a=String(f).padStart(2,"0"),r=String(m).padStart(2,"0");_.text(a),x.text(r)}})}function g(t){let e="active",o=$(".questions_active-line");l.removeClass(e),l.closest(".questions_toc-dropdown").eq(t).addClass(e);let n=l.eq(t!=null?t:0);v.hide(),v.eq(t).show(),$("[category-display]").text(n.find("[category-name]").text())}function w(t,e){let o=c.eq(t).closest("ul").index(),n="active";console.log("call");let i=b(s,t),a=l.find(".questions_toc-mask");a.stop().animate("height",0),a.eq(i).stop().animate("height","auto"),console.log("Parent: "+o),console.log("Category: "+i);let r=s[o+1][i],k=r?$(r).index():0;c.removeClass(n),c.eq(t).addClass(n);let S=c.eq(t).position().top,h=c.eq(t).closest(".questions_toc_wrap");h.stop().animate({scrollTop:h.scrollTop()+S},500)}function b(t,e){let o=0;for(let n of Object.values(t)){if(o+n.length>e)return e-o;o+=n.length}return-1}c.on("click",function(){d&&d.slideTo(c.index($(this)))});l.on("click",function(){let t=$(this).closest(".questions_toc-dropdown").index();g(t);let e=s[t+1][0],o=$(e).index();d.slideTo(o),$(window).width()<=992&&(I.css("display","flex"),setTimeout(()=>{p(d)},200),console.log("disabled"),C())});$("#content-close").on("click",function(){I.hide(),C()});var y,C=()=>{u?$("html, body").scrollTop(y).removeClass("overflow-hidden"):(y=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden")),u=!u};})();
